#N canvas 599 70 630 606 10;
#X text 23 6 The idea here is to mix two probaility distributions in
the form of lists of words. Here we are ONLY mixing probabilities for
one step. This mixer should be filled for every new step we want to
compute.;
#X obj 356 377 coll \$0-resulting-probs;
#C restore;
#X msg 468 344 clear;
#X msg 309 336 length;
#X obj 356 396 until;
#X obj 356 415 coll \$0-resulting-probs;
#C restore;
#X obj 356 481 list prepend;
#X obj 356 434 sum;
#X obj 356 515 list;
#X obj 387 515 list;
#X obj 295 535 list;
#X obj 352 573 outlet resulting probability table;
#X obj 213 106 inlet prob B;
#X msg 192 360 merge \$1 \$2;
#N canvas 823 343 450 300 drip 0;
#X obj 70 44 inlet list;
#X obj 70 63 list split 2;
#X obj 70 82 t b a;
#X obj 109 123 list;
#X obj 97 159 outlet;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 3 1;
#X connect 2 0 3 0;
#X connect 2 1 4 0;
#X connect 3 0 1 0;
#X restore 192 267 pd drip 2;
#X obj 192 286 unpack s f;
#X obj 249 305 *;
#X obj 192 162 r \$0-weightB;
#X obj 192 341 pack s f;
#X obj 192 235 list;
#X obj 192 181 t b f;
#X obj 79 235 list;
#X obj 79 172 t b f;
#X obj 100 105 inlet prob A;
#X obj 79 153 r \$0-weightA;
#X text 177 86 normalized lists;
#X obj 310 103 inlet weight;
#X obj 324 240 - 1;
#X obj 324 259 abs;
#X obj 338 220 s \$0-weightB;
#X obj 324 278 s \$0-weightA;
#X obj 7 107 inlet bang;
#X obj 7 127 s \$0-lets-start;
#X obj 295 143 r \$0-lets-start;
#X obj 295 164 f;
#X msg 513 452 bang;
#X msg 561 503 bang;
#X msg 262 218 bang;
#X obj 295 554 route bang;
#X obj 295 573 outlet;
#X text 37 556 Bang when we find a zero frequency state->;
#X text 7 293 multiply the probability;
#X text 6 303 by the weight;
#X text 88 303 -------------->;
#X obj 547 322 +;
#X obj 571 322 f;
#X msg 562 303 0;
#X text 521 272 add so we know;
#X text 518 282 how to normalize;
#X obj 374 457 /;
#X obj 295 201 t b b f f b b b b;
#X connect 1 0 4 0;
#X connect 2 0 1 0;
#X connect 3 0 1 0;
#X connect 4 0 5 0;
#X connect 5 0 7 0;
#X connect 5 1 6 1;
#X connect 6 0 8 0;
#X connect 7 0 6 0;
#X connect 8 0 9 0;
#X connect 8 0 10 1;
#X connect 9 0 8 1;
#X connect 10 0 38 0;
#X connect 12 0 19 1;
#X connect 13 0 1 0;
#X connect 14 0 15 0;
#X connect 15 0 18 0;
#X connect 15 1 16 0;
#X connect 16 0 18 1;
#X connect 16 0 44 0;
#X connect 17 0 20 0;
#X connect 18 0 13 0;
#X connect 19 0 14 0;
#X connect 20 0 19 0;
#X connect 20 1 16 1;
#X connect 21 0 14 0;
#X connect 22 0 21 0;
#X connect 22 1 16 1;
#X connect 23 0 21 1;
#X connect 24 0 22 0;
#X connect 26 0 34 1;
#X connect 27 0 28 0;
#X connect 28 0 30 0;
#X connect 31 0 32 0;
#X connect 33 0 34 0;
#X connect 34 0 50 0;
#X connect 35 0 8 1;
#X connect 36 0 10 1;
#X connect 37 0 19 1;
#X connect 37 0 21 1;
#X connect 38 0 39 0;
#X connect 38 1 11 0;
#X connect 44 0 45 0;
#X connect 44 0 49 1;
#X connect 45 0 44 1;
#X connect 46 0 44 1;
#X connect 50 0 10 0;
#X connect 50 0 37 0;
#X connect 50 1 3 0;
#X connect 50 2 27 0;
#X connect 50 3 29 0;
#X connect 50 4 35 0;
#X connect 50 5 36 0;
#X connect 50 6 2 0;
#X connect 50 7 46 0;
